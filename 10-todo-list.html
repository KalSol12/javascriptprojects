<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<style>
    body{
        font-family: Arial, Helvetica, sans-serif;
        margin: 20px;
        padding: 0;
        background-color: rgb(240, 240, 240);

        
    }
    .show-the-result{
        display: grid;
        grid-template-columns: repeat(5,1fr);
        gap: 10px;
       
    }
    .input-div{
        display: grid;
        grid-template-columns: repeat(5,1fr);
        gap: 10px;
        align-items: stretch;
        margin-bottom: 30px;
        margin-top: 20px;
       

    }
    
    .input-div label{
        font-weight: bold;
        font-size: 18px;

    }
    .input-div input, .input-div select{
        padding: 8px;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid gray;

    }
    .input-div button{
        padding: 10px 15px;
        background-color: green;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold; 
        

    }
    .input-div button:hover{
        background-color: darkgreen;
    }
    .show-the-result div{
        background-color: white;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0,0,0,0.1);
        text-align: center;
        font-weight: bold;

    }
    .show-the-result button{
        background-color: red;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;}
    .show-the-result button:hover{
        background-color: darkred;
    }

    .show-the-result div:nth-child(4n){
        background-color: #ffdddd;

    }
    .show-the-result div:nth-child(4n-1){
        background-color: #ddffdd;

    }
    .show-the-result div:nth-child(4n-2){
        background-color: #ddddff;}
        .show-the-result div:nth-child(4n-3){
            background-color: #ffffdd;
        }
        .show-the-result div:hover{
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        .input-div div{
            display: flex;
            flex-direction: column;
        }
        .input-div div:nth-child(1){
            grid-column: span 1;
        }
        .input-div div:nth-child(5){
        flex: 1;
        }
        .input-div div:nth-child(3){
            column-span: 1;

           

         
        }
        .input-div div:nth-child(4){
            flex: 1;

          }
        .input-div div:nth-child(2){
           /* smaller */
              flex: 1;

          }
       
        
</style>
</head>
<body>
    <h1>Todo-List</h1>
    
    <div class="input-div">
        <div class="">
      
        <input type="text" class="js-input-text">
        </div>

        <div>
           
            <input type="date"
            class="js-input-date"
            >
        </div>
        <div>
        
            
            <select name="priority" id="priority" class="js-input-priority">
                <option value="high">high</option>
                <option value="medium">medium</option>
                <option value="low">low</option>
            </select>
        </div>
        <!-- after priority i will add  -->
         <!-- // what is the deadline for the task -->
         <div>
           
             <input type="date"
                class="js-input-deadline"
             >
         </div>
        
        <div>
            <button
            onclick="
            showTheResult()"
            >add</button>
        </div>

    </div>
      <div class="show-the-result">
            </div>
    
</body>
<script>
// initial todo list array

//   const todolistArray= [{
//         name:'make dinner',
//         date:'2024-06-20',
//         priority:'high',
//         deadline:'2024-06-25'
//      },
//         {
//             name:'wash clothes',
//             date:'2024-06-21',
//             priority:'high',
//             deadline:'2024-06-30'   
//         },
//         {
//             name:'do homework',
//             date:'2024-06-22',
//             priority:'low',
//             deadline:'2024-07-05'
//         }
//     ];
    const todolistArray= JSON.parse(localStorage.getItem('todoList'))||[
        {
            name:'pray in the morning',
            date:'always',
            priority:'high',
            deadline:'never'
         },
            {
                name:'pray in the evening',
                date:'always',
                priority:'high',
                deadline:'never'   
            },
            {
                name:'practice coding',
                date:'sometimes',
                priority:'medium',
                deadline:'never'
            }
        ];
    console.log(todolistArray);

 
     
    updateTheList();
    
    function updateTheList() {  
         let html='';
    //    const HtmlList=0;
       for (let i = 0; i < todolistArray.length; i++) {
        const todoItem=todolistArray[i];


        const {name,date,priority,deadline}= todoItem;
        const todo=`${name} -start- ${date} - end - ${deadline}- priority- ${priority}`;
        //want to store in the local storage
        localStorage.setItem('todoList',JSON.stringify(todolistArray));
 

        // console.log(store);

       
  let  todoHtml =`
             <div>
            ${name}  
            </div> 

            <div>
             ${date}
            </div>

            <div>
           ${priority}
            </div>

            <div>
            ${deadline}
            </div>
        
             <div>
            <button
            onclick="
            todolistArray.splice(${i},1);
             localStorage.removeItem('todoList');
                localStorage.setItem('todoList',JSON.stringify(todolistArray));
             updateTheList();
                location.reload();
            "
            >Delete</button>
            </div>`;


        html+=todoHtml;
           

       }
         
       document.querySelector('.show-the-result').innerHTML=html;
     
   
    }
        
   


 
function showTheResult() {

let name= document.querySelector('.js-input-text').value;
let date= document.querySelector('.js-input-date').value;
let priority= document.querySelector('.js-input-priority').value;
let deadline= document.querySelector('.js-input-deadline').value;
todolistArray.push({
   //shorthand property names
   name,
   date,
    priority,
    deadline
});
console.log(todolistArray.length);// to make sure that the new item is added to the array
 document.querySelector('.show-the-result').innerHTML=''
     updateTheList();


}

</script>
</html>